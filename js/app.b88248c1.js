(function(t){function e(e){for(var o,s,a=e[0],c=e[1],h=e[2],u=0,d=[];u<a.length;u++)s=a[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);l&&l(e);while(d.length)d.shift()();return r.push.apply(r,h||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==i[c]&&(o=!1)}o&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},i={app:0},r=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vnodes/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var h=0;h<a.length;h++)e(a[h]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1f1d":function(t,e,n){"use strict";var o=n("69eb"),i=n.n(o);i.a},2929:function(t,e,n){},"29ed":function(t,e,n){"use strict";var o=n("5cff"),i=n.n(o);i.a},"3daa":function(t,e,n){},"519a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"margin-top":"50px","margin-bottom":"50px"}},[n("h1",[t._v("Vnodes")]),n("h2",[t._v("Sink")]),n("sink"),n("h2",[t._v("Edit")]),n("edit"),n("h2",[t._v("Ports")]),n("ports"),n("h2",[t._v("Labels")]),n("labels"),n("h2",[t._v("Benchpress")]),n("benchpress")],1)},r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demo"},[n("div",{staticClass:"viewport"},[n("screen",{ref:"screen",attrs:{markers:[]}},[t.groupNodes?n("group",{attrs:{nodes:t.$refs.sidebar.filterNodes||t.graph.nodes}}):t._e(),t._l(t.graph.edges,(function(e){return n("edge",{key:e.id,attrs:{data:e,nodes:t.graph.nodes}})})),t._l(t.graph.nodes,(function(t){return n("node",{key:t.id,attrs:{data:t}})}))],2)],1),n("sink-sidebar",{ref:"sidebar",staticClass:"sidebar",attrs:{graph:t.graph},on:{toggleGroupNodes:t.toggleGroupNodes}})],1)},a=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{"font-weight":"bold"}},[t._v("Graph")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.graphText,expression:"graphText"}],attrs:{placeholder:"add multiple lines",rows:"4"},domProps:{value:t.graphText},on:{input:function(e){e.target.composing||(t.graphText=e.target.value)}}}),n("div",[n("span",[t._v("type")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.graphType,expression:"graphType"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.graphType=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"basic"}},[t._v("basic")]),n("option",{attrs:{value:"basic-invert"}},[t._v("invert")]),n("option",{attrs:{value:"tree"}},[t._v("tree")])])]),n("div",[n("span",[t._v("dir ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.graphDir,expression:"graphDir"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.graphDir=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"left"}},[t._v("left")]),n("option",{attrs:{value:"right"}},[t._v("right")]),n("option",{attrs:{value:"up"}},[t._v("up")]),n("option",{attrs:{value:"down"}},[t._v("down")])])]),n("div",{staticStyle:{"font-weight":"bold"}},[t._v("Edges")]),n("div",[n("span",[t._v("type ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.connType,expression:"connType"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.connType=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"linear"}},[t._v("linear")]),n("option",{attrs:{value:"smooth"}},[t._v("smooth")]),n("option",{attrs:{value:"hsmooth"}},[t._v("hsmooth")]),n("option",{attrs:{value:"vsmooth"}},[t._v("vsmooth")])])]),n("div",[n("span",[t._v("snap ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.edgeSnap,expression:"edgeSnap"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.edgeSnap=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"anchor"}},[t._v("anchor")]),n("option",{attrs:{value:"rect"}},[t._v("rect")]),n("option",{attrs:{value:"circle"}},[t._v("circle")])])]),n("div",{staticStyle:{"font-weight":"bold"}},[t._v("Nodes")]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.graphNodesFilter,expression:"graphNodesFilter"}],attrs:{type:"text",placeholder:"a,b,c (nodes filter)"},domProps:{value:t.graphNodesFilter},on:{input:function(e){e.target.composing||(t.graphNodesFilter=e.target.value)}}})]),n("button",{on:{click:function(){return t.zoomNodes(null,t.filterNodes)}}},[t._v("Zoom Nodes")]),n("button",{on:{click:function(){return t.graphNodes(t.filterNodes)}}},[t._v("Graph Nodes")]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.groupNodes,expression:"groupNodes"}],attrs:{type:"checkbox",id:"groupNodes"},domProps:{checked:Array.isArray(t.groupNodes)?t._i(t.groupNodes,null)>-1:t.groupNodes},on:{change:function(e){var n=t.groupNodes,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r=null,s=t._i(n,r);o.checked?s<0&&(t.groupNodes=n.concat([r])):s>-1&&(t.groupNodes=n.slice(0,s).concat(n.slice(s+1)))}else t.groupNodes=i}}}),n("span",[t._v(" Group")])])])},h=[],l=(n("159b"),n("7db0"),n("d81d"),n("ac1f"),n("1276"),n("498a"),n("4de4"),n("caad"),n("2532"),n("8a79"),{props:{graph:{required:!0}},data:function(){return{graphType:"basic",graphDir:"right",graphText:"a/b/c\nb/d",graphError:"",graphNodesFilter:"",connType:"",groupNodes:!1,edgeAlign:"",edgeSnap:""}},mounted:function(){var t=this;this.$nextTick((function(){t.createNodes()}))},methods:{centerNodes:function(){var t=this.$parent.$refs.screen.panzoom;this.zoomNodes(),t.getZoom()>1&&this.zoomNodes(1)},zoomNodes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=1/0,n=1/0,o=-1/0,i=-1/0,r=this.filterNodes||this.graph.nodes;r.forEach((function(t){t.x<e&&(e=t.x),t.x+t.width>o&&(o=t.x+t.width),t.y<n&&(n=t.y),t.y+t.height>i&&(i=t.y+t.height)})),e-=50,n-=50,o+=50,i+=50,this.$parent.$refs.screen.zoomRect({left:e,top:n,right:o,bottom:i},{scale:t})},createNodes:function(){var t=this;this.graph.reset();var e=this.parsedGraph,n=function e(n,o){t.graph.nodes.find((function(t){return t.id===n.id}))||t.graph.createNode(n.id),o&&(t.graph.edges.find((function(t){return t.fromNode===o.id&&t.toNode===o.id}))||t.graph.createEdge(o.id,n.id)),n.children.forEach((function(t){return e(t,n)}))};e.forEach((function(t){return n(t)})),this.graphNodes(),this.centerNodes()},graphNodes:function(t){this.graph.graphNodes({nodes:t||this.graph.nodes,edges:this.graph.edges,type:this.graphType,dir:this.graphDir})}},computed:{filterNodes:function(){var t=this.graphNodesFilter.split(",").map((function(t){return t.trim()})),e=this.graph.nodes.filter((function(e){return t.includes(e.id)}));return e.length?e:null},parsedGraph:function(){var t=[],e=[],n=this.graphText.split("\n");return n.forEach((function(n){n.split("/").forEach((function(n,o,i){var r=n.trim();if(r){var s=o&&i[o-1].trim(),a={id:r,children:[]},c=s&&t.find((function(t){return t.id===s}));c?c.children.push(a):e.push(a),t.push(a)}}))})),e}},watch:{parsedGraph:function(){o["a"].nextTick(this.createNodes)},connType:function(t){this.graph.edges.forEach((function(e){e.type=t}))},graphDir:function(){this.graphNodes(),this.centerNodes()},graphType:function(){this.graphNodes(),this.centerNodes()},groupNodes:function(t){this.$emit("toggleGroupNodes",t)},edgeSnap:function(t){var e=this;this.graph.edges.forEach((function(n){e.$set(n.fromAnchor,"snap",t),e.$set(n.toAnchor,"snap",t)}))},edgeAlign:function(t){var e=this;this.graph.edges.forEach((function(n){e.$set(n.fromAnchor,"align",t),e.$set(n.toAnchor,"align",t)}))},anchorX:function(t){t?t.endsWith("%")||(t=parseFloat(t)):t="50%",this.graph.edges.forEach((function(e){e.fromAnchor.x=t,e.toAnchor.x=t}))},anchorY:function(t){t?t.endsWith("%")||(t=parseFloat(t)):t="50%",this.graph.edges.forEach((function(e){e.fromAnchor.y=t,e.toAnchor.y=t}))}}}),u=l,d=n("2877"),p=Object(d["a"])(u,c,h,!1,null,null,null),f=p.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{ref:"screen",staticClass:"screen"},[n("defs",[n("markers",{attrs:{markers:t.markers}})],1),n("g",[t._t("default")],2)])},v=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",t._l(t.all,(function(e){return n("g",{key:e.id},["arrow-start"===e.type?n("marker",{attrs:{id:e.id,orient:"auto",markerWidth:13*e.scale,markerHeight:13*e.scale,refX:1*e.scale,refY:5*e.scale}},[n("path",{style:e.style+";transform: scale("+e.scale+")",attrs:{d:"M0,5 L10,10 L10,0 L0,5"}})]):t._e(),"arrow-end"===e.type?n("marker",{attrs:{id:e.id,orient:"auto",markerWidth:13*e.scale,markerHeight:13*e.scale,refX:9*e.scale,refY:5*e.scale}},[n("path",{style:e.style+";transform: scale("+e.scale+")",attrs:{d:"M0,0 L0,10 L10,5 L0,0"}})]):t._e()])})),0)},y=[],b=(n("99af"),[{id:"arrow-start",type:"arrow-start",scale:.5,style:"fill: green"},{id:"arrow-end",type:"arrow-end",scale:.5,style:"fill: green"}]),x={props:{markers:Array},computed:{all:function(){return this.markers.concat(b).map((function(t){var e=b.find((function(e){return e.type===t.type}));if(e)return Object.assign({},e,t);console.error("unknown marker",t)})).filter((function(t){return t}))}}},w=x,E=Object(d["a"])(w,m,y,!1,null,null,null),N=E.exports,M=(n("a434"),function(){var t,e,n,o="",i=[],r={passive:!0};function s(t,e){var o=function(t){!t&&(t=window.event);var o={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==n?(o.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(o.deltaX=-1/40*t.wheelDeltaX)):o.deltaY=t.detail,e(o)};return i.push({element:t,fn:o}),o}function a(t){for(var e=0;e<i.length;e++)if(i[e].element===t)return i[e].fn;return function(){}}function c(t){for(var e=0;e<i.length;e++)if(i[e].element===t)return i.splice(e,1)}function h(e,i,a,c){var h;h="wheel"===n?a:s(e,a),e[t](o+i,h,!!c&&r)}function l(t,i,s,h){var l;l="wheel"===n?s:a(t),t[e](o+i,l,!!h&&r),c(t)}function u(t,e,o){h(t,n,e,o),"DOMMouseScroll"==n&&h(t,"MozMousePixelScroll",e,o)}function d(t,e,o){l(t,n,e,o),"DOMMouseScroll"==n&&l(t,"MozMousePixelScroll",e,o)}return window.addEventListener?(t="addEventListener",e="removeEventListener"):(t="attachEvent",e="detachEvent",o="on"),n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",{on:u,off:d}}()),S=(n("fb6a"),n("5319"),n("a15b"),n("53ca")),C=(n("d3b7"),{extend:function(t,e){for(var n in t=t||{},e)this.isObject(e[n])?t[n]=this.extend(t[n],e[n]):t[n]=e[n];return t},isElement:function(t){return t instanceof HTMLElement||t instanceof SVGElement||t instanceof SVGSVGElement||t&&"object"===Object(S["a"])(t)&&null!==t&&1===t.nodeType&&"string"===typeof t.nodeName},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getSvg:function(t){var e,n;if(this.isElement(t))e=t;else{if(!("string"===typeof t||t instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(e=document.querySelector(t),!e)throw new Error("Provided selector did not find any elements. Selector: "+t)}if("svg"===e.tagName.toLowerCase())n=e;else if("object"===e.tagName.toLowerCase())n=e.contentDocument.documentElement;else{if("embed"!==e.tagName.toLowerCase())throw"img"===e.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");n=e.getSVGDocument().documentElement}return n},proxy:function(t,e){return function(){return t.apply(e,arguments)}},getType:function(t){return Object.prototype.toString.apply(t).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(t,e){if(void 0===t.clientX||null===t.clientX)if(t.clientX=0,t.clientY=0,void 0!==t.touches&&t.touches.length){if(void 0!==t.touches[0].clientX)t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY;else if(void 0!==t.touches[0].pageX){var n=e.getBoundingClientRect();t.clientX=t.touches[0].pageX-n.left,t.clientY=t.touches[0].pageY-n.top}}else void 0!==t.originalEvent&&void 0!==t.originalEvent.clientX&&(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)},isDblClick:function(t,e){if(2===t.detail)return!0;if(void 0!==e&&null!==e){var n=t.timeStamp-e.timeStamp,o=Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2));return n<250&&o<10}return!1},now:Date.now||function(){return(new Date).getTime()},throttle:function(t,e,n){var o,i,r,s=this,a=null,c=0;n||(n={});var h=function(){c=!1===n.leading?0:s.now(),a=null,r=t.apply(o,i),a||(o=i=null)};return function(){var l=s.now();c||!1!==n.leading||(c=l);var u=e-(l-c);return o=this,i=arguments,u<=0||u>e?(clearTimeout(a),a=null,c=l,r=t.apply(o,i),a||(o=i=null)):a||!1===n.trailing||(a=setTimeout(h,u)),r}},createRequestAnimationFrame:function(t){var e=null;return"auto"!==t&&t<60&&t>1&&(e=Math.floor(1e3/t)),null===e?window.requestAnimationFrame||z(33):z(e)}});function z(t){return function(e){window.setTimeout(e,t)}}var P="unknown";document.documentMode&&(P="ie");var _={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(t){if(t.clientWidth&&t.clientHeight)return{width:t.clientWidth,height:t.clientHeight};if(t.getBoundingClientRect())return t.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(t,e){var n=null;if(n=C.isElement(e)?e:t.querySelector(e),!n){var o=Array.prototype.slice.call(t.childNodes||t.children).filter((function(t){return"defs"!==t.nodeName&&"#text"!==t.nodeName}));1===o.length&&"g"===o[0].nodeName&&null===o[0].getAttribute("transform")&&(n=o[0])}if(!n){var i="viewport-"+(new Date).toISOString().replace(/\D/g,"");n=document.createElementNS(this.svgNS,"g"),n.setAttribute("id",i);var r=t.childNodes||t.children;if(r&&r.length>0)for(var s=r.length;s>0;s--)"defs"!==r[r.length-s].nodeName&&n.appendChild(r[r.length-s]);t.appendChild(n)}var a=[];return n.getAttribute("class")&&(a=n.getAttribute("class").split(" ")),~a.indexOf("svg-pan-zoom_viewport")||(a.push("svg-pan-zoom_viewport"),n.setAttribute("class",a.join(" "))),n},setupSvgAttributes:function(t){if(t.setAttribute("xmlns",this.svgNS),t.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),t.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==t.parentNode){var e=t.getAttribute("style")||"";-1===e.toLowerCase().indexOf("overflow")&&t.setAttribute("style","overflow: hidden; "+e)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:C.throttle((function(){for(var t=document.querySelectorAll("defs"),e=t.length,n=0;n<e;n++){var o=t[n];o.parentNode.insertBefore(o,o)}}),null),setCTM:function(t,e,n){var o=this,i="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.style.transform=i,"transform"in t.style?t.style.transform=i:"-ms-transform"in t.style?t.style["-ms-transform"]=i:"-webkit-transform"in t.style&&(t.style["-webkit-transform"]=i),"ie"===P&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout((function(){o.refreshDefsGlobal()}),o.internetExplorerRedisplayInterval))},getEventPoint:function(t,e){var n=e.createSVGPoint();return C.mouseAndTouchNormalize(t,e),n.x=t.clientX,n.y=t.clientY,n},getSvgCenterPoint:function(t,e,n){return this.createSVGPoint(t,e/2,n/2)},createSVGPoint:function(t,e,n){var o=t.createSVGPoint();return o.x=e,o.y=n,o}},A={enable:function(t){var e=t.svg.querySelector("defs");e||(e=document.createElementNS(_.svgNS,"defs"),t.svg.appendChild(e));var n=e.querySelector("style#svg-pan-zoom-controls-styles");if(!n){var o=document.createElementNS(_.svgNS,"style");o.setAttribute("id","svg-pan-zoom-controls-styles"),o.setAttribute("type","text/css"),o.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",e.appendChild(o)}var i=document.createElementNS(_.svgNS,"g");i.setAttribute("id","svg-pan-zoom-controls"),i.setAttribute("transform","translate("+(t.width-70)+" "+(t.height-76)+") scale(0.75)"),i.setAttribute("class","svg-pan-zoom-control"),i.appendChild(this._createZoomIn(t)),i.appendChild(this._createZoomReset(t)),i.appendChild(this._createZoomOut(t)),t.svg.appendChild(i),t.controlIcons=i},_createZoomIn:function(t){var e=document.createElementNS(_.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-in"),e.setAttribute("transform","translate(30.5 5) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",(function(){t.getPublicInstance().zoomIn()}),!1),e.addEventListener("touchstart",(function(){t.getPublicInstance().zoomIn()}),!1);var n=document.createElementNS(_.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var o=document.createElementNS(_.svgNS,"path");return o.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),o.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(o),e},_createZoomReset:function(t){var e=document.createElementNS(_.svgNS,"g");e.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),e.setAttribute("transform","translate(5 35) scale(0.4)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",(function(){t.getPublicInstance().reset()}),!1),e.addEventListener("touchstart",(function(){t.getPublicInstance().reset()}),!1);var n=document.createElementNS(_.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var o=document.createElementNS(_.svgNS,"path");o.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),o.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(o);var i=document.createElementNS(_.svgNS,"path");return i.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i),e},_createZoomOut:function(t){var e=document.createElementNS(_.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-out"),e.setAttribute("transform","translate(30.5 70) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",(function(){t.getPublicInstance().zoomOut()}),!1),e.addEventListener("touchstart",(function(){t.getPublicInstance().zoomOut()}),!1);var n=document.createElementNS(_.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var o=document.createElementNS(_.svgNS,"path");return o.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),o.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(o),e},disable:function(t){t.controlIcons&&(t.controlIcons.parentNode.removeChild(t.controlIcons),t.controlIcons=null)}},Z=function(t,e){this.init(t,e)};Z.prototype.init=function(t,e){this.viewport=t,this.options=e,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=C.proxy(this.updateCTM,this),this.requestAnimationFrame=C.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()},Z.prototype.cacheViewBox=function(){var t=this.options.svg.getAttribute("viewBox");if(t){var e=t.split(/[\s\,]/).filter((function(t){return t})).map(parseFloat);this.viewBox.x=e[0],this.viewBox.y=e[1],this.viewBox.width=e[2],this.viewBox.height=e[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},Z.prototype.simpleViewBoxCache=function(){var t=this.viewport.getBBox();this.viewBox.x=t.x,this.viewBox.y=t.y,this.viewBox.width=t.width,this.viewBox.height=t.height},Z.prototype.getViewBox=function(){return C.extend({},this.viewBox)},Z.prototype.processCTM=function(){var t,e=this.getCTM();(this.options.fit||this.options.contain)&&(t=this.options.fit?Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),e.a=t,e.d=t,e.e=-this.viewBox.x*t,e.f=-this.viewBox.y*t);if(this.options.center){var n=.5*(this.options.width-(this.viewBox.width+2*this.viewBox.x)*e.a),o=.5*(this.options.height-(this.viewBox.height+2*this.viewBox.y)*e.a);e.e=n,e.f=o}return this.originalState.zoom=e.a,this.originalState.x=e.e,this.originalState.y=e.f,e},Z.prototype.getOriginalState=function(){return C.extend({},this.originalState)},Z.prototype.getState=function(){return C.extend({},this.activeState)},Z.prototype.getZoom=function(){return this.activeState.zoom},Z.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},Z.prototype.computeRelativeZoom=function(t){return t/this.originalState.zoom},Z.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},Z.prototype.getCTM=function(){var t=this.options.svg.createSVGMatrix();return t.a=this.activeState.zoom,t.b=0,t.c=0,t.d=this.activeState.zoom,t.e=this.activeState.x,t.f=this.activeState.y,t},Z.prototype.setCTM=function(t){var e=this.isZoomDifferent(t),n=this.isPanDifferent(t);if(e||n){if(e&&(!1===this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(t.a))?(t.a=t.d=this.activeState.zoom,e=!1):(this.updateCache(t),this.options.onZoom(this.getRelativeZoom()))),n){var o=this.options.beforePan(this.getPan(),{x:t.e,y:t.f}),i=!1,r=!1;!1===o?(t.e=this.getPan().x,t.f=this.getPan().y,i=r=!0):C.isObject(o)&&(!1===o.x?(t.e=this.getPan().x,i=!0):C.isNumber(o.x)&&(t.e=o.x),!1===o.y?(t.f=this.getPan().y,r=!0):C.isNumber(o.y)&&(t.f=o.y)),i&&r||!this.isPanDifferent(t)?n=!1:(this.updateCache(t),this.options.onPan(this.getPan()))}(e||n)&&this.updateCTMOnNextFrame()}},Z.prototype.isZoomDifferent=function(t){return this.activeState.zoom!==t.a},Z.prototype.isPanDifferent=function(t){return this.activeState.x!==t.e||this.activeState.y!==t.f},Z.prototype.updateCache=function(t){this.activeState.zoom=t.a,this.activeState.x=t.e,this.activeState.y=t.f},Z.prototype.pendingUpdate=!1,Z.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},Z.prototype.updateCTM=function(){var t=this.getCTM();_.setCTM(this.viewport,t,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(t)};var k=function(t,e){return new Z(t,e)},T=function(t,e){this.init(t,e)},O={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,onUserPan:null,onUserZoom:null,onDoubleClick:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},D={passive:!0};T.prototype.init=function(t,e){var n=this;this.svg=t,this.defs=t.querySelector("defs"),_.setupSvgAttributes(this.svg),this.options=C.extend(C.extend({},O),e),this.state="none";var o=_.getBoundingClientRectNormalized(t);this.width=o.width,this.height=o.height,this.viewport=k(_.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(t,e){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(t,e)},onZoom:function(t){if(n.viewport&&n.options.onZoom)return n.options.onZoom(t)},beforePan:function(t,e){if(n.viewport&&n.options.beforePan)return n.options.beforePan(t,e)},onPan:function(t){if(n.viewport&&n.options.onPan)return n.options.onPan(t)},onUpdatedCTM:function(t){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(t)}});var i=this.getPublicInstance();i.setBeforeZoom(this.options.beforeZoom),i.setOnZoom(this.options.onZoom),i.setBeforePan(this.options.beforePan),i.setOnPan(this.options.onPan),i.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&A.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},T.prototype.setupHandlers=function(){var t=this,e=null;if(this.eventListeners={mousedown:function(n){var o=t.handleMouseDown(n,e);return e=n,o},touchstart:function(n){var o=t.handleMouseDown(n,e);return e=n,o},mouseup:function(e){return t.handleMouseUp(e)},touchend:function(e){return t.handleMouseUp(e)},mousemove:function(e){return t.handleMouseMove(e)},touchmove:function(e){return t.handleMouseMove(e)},mouseleave:function(e){return t.handleMouseUp(e)},touchleave:function(e){return t.handleMouseUp(e)},touchcancel:function(e){return t.handleMouseUp(e)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var o=n.length-1;o>=0;o--)this.eventListeners.hasOwnProperty(n[o])&&delete this.eventListeners[n[o]]}for(var i in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(i,this.eventListeners[i],!this.options.preventMouseEventsDefault&&D);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},T.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var t=this;this.wheelListener=function(e){return t.handleMouseWheel(e)};var e=!this.options.preventMouseEventsDefault;M.on(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!0}},T.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var t=!this.options.preventMouseEventsDefault;M.off(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!1}},T.prototype.handleMouseWheel=function(t){if(this.options.zoomEnabled&&"none"===this.state&&(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),!this.options.onUserZoom||!1!==this.options.onUserZoom(t))){var e=t.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,o=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in t&&0===t.deltaMode&&t.wheelDelta&&(e=0===t.deltaY?0:Math.abs(t.wheelDelta)/t.deltaY),e=-.3<e&&e<.3?e:(e>0?1:-1)*Math.log(Math.abs(e)+10)/o;var i=this.svg.getScreenCTM().inverse(),r=_.getEventPoint(t,this.svg).matrixTransform(i),s=Math.pow(1+this.options.zoomScaleSensitivity,-1*e);this.zoomAtPoint(s,r)}},T.prototype.zoomAtPoint=function(t,e,n){var o=this.viewport.getOriginalState();n?(t=Math.max(this.options.minZoom*o.zoom,Math.min(this.options.maxZoom*o.zoom,t)),t/=this.getZoom()):this.getZoom()*t<this.options.minZoom*o.zoom?t=this.options.minZoom*o.zoom/this.getZoom():this.getZoom()*t>this.options.maxZoom*o.zoom&&(t=this.options.maxZoom*o.zoom/this.getZoom());var i=this.viewport.getCTM(),r=e.matrixTransform(i.inverse()),s=this.svg.createSVGMatrix().translate(r.x,r.y).scale(t).translate(-r.x,-r.y),a=i.multiply(s);a.a!==i.a&&this.viewport.setCTM(a)},T.prototype.zoom=function(t,e){this.zoomAtPoint(t,_.getSvgCenterPoint(this.svg,this.width,this.height),e)},T.prototype.publicZoom=function(t,e){e&&(t=this.computeFromRelativeZoom(t)),this.zoom(t,e)},T.prototype.publicZoomAtPoint=function(t,e,n){if(n&&(t=this.computeFromRelativeZoom(t)),"SVGPoint"!==C.getType(e)){if(!("x"in e)||!("y"in e))throw new Error("Given point is invalid");e=_.createSVGPoint(this.svg,e.x,e.y)}this.zoomAtPoint(t,e,n)},T.prototype.getZoom=function(){return this.viewport.getZoom()},T.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},T.prototype.computeFromRelativeZoom=function(t){return t*this.viewport.getOriginalState().zoom},T.prototype.resetZoom=function(){var t=this.viewport.getOriginalState();this.zoom(t.zoom,!0)},T.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},T.prototype.reset=function(){this.resetZoom(),this.resetPan()},T.prototype.handleDblClick=function(t){if(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),this.options.controlIconsEnabled){var e=t.target.getAttribute("class")||"";if(e.indexOf("svg-pan-zoom-control")>-1)return!1}var n;n=t.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var o=_.getEventPoint(t,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(n,o)},T.prototype.handleMouseDown=function(t,e){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),C.mouseAndTouchNormalize(t,this.svg);var n=C.isDblClick(t,e);this.options.onDoubleClick&&n&&this.options.onDoubleClick(),this.options.dblClickZoomEnabled&&n?this.handleDblClick(t):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=_.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()))},T.prototype.handleMouseMove=function(t){if(this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),"pan"===this.state&&this.options.panEnabled){if(this.options.onUserPan&&!1===this.options.onUserPan(t))return;var e=_.getEventPoint(t,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(e.x-this.stateOrigin.x,e.y-this.stateOrigin.y);this.viewport.setCTM(n)}},T.prototype.handleMouseUp=function(t){this.options.preventMouseEventsDefault&&(t.preventDefault?t.preventDefault():t.returnValue=!1),"pan"===this.state&&(this.state="none")},T.prototype.fit=function(){var t=this.viewport.getViewBox(),e=Math.min(this.width/t.width,this.height/t.height);this.zoom(e,!0)},T.prototype.contain=function(){var t=this.viewport.getViewBox(),e=Math.max(this.width/t.width,this.height/t.height);this.zoom(e,!0)},T.prototype.center=function(){var t=this.viewport.getViewBox(),e=.5*(this.width-(t.width+2*t.x)*this.getZoom()),n=.5*(this.height-(t.height+2*t.y)*this.getZoom());this.getPublicInstance().pan({x:e,y:n})},T.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},T.prototype.pan=function(t){var e=this.viewport.getCTM();e.e=t.x,e.f=t.y,this.viewport.setCTM(e)},T.prototype.panBy=function(t){var e=this.viewport.getCTM();e.e+=t.x,e.f+=t.y,this.viewport.setCTM(e)},T.prototype.getPan=function(){var t=this.viewport.getState();return{x:t.x,y:t.y}},T.prototype.resize=function(){var t=_.getBoundingClientRectNormalized(this.svg);this.width=t.width,this.height=t.height;var e=this.viewport;e.options.width=this.width,e.options.height=this.height,e.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},T.prototype.destroy=function(){var t=this;for(var e in this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,null!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()}),this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(e,this.eventListeners[e],!this.options.preventMouseEventsDefault&&D);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),I=I.filter((function(e){return e.svg!==t.svg})),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},T.prototype.getPublicInstance=function(){var t=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return t.options.panEnabled=!0,t.pi},disablePan:function(){return t.options.panEnabled=!1,t.pi},isPanEnabled:function(){return!!t.options.panEnabled},pan:function(e){return t.pan(e),t.pi},panBy:function(e){return t.panBy(e),t.pi},getPan:function(){return t.getPan()},setBeforePan:function(e){return t.options.beforePan=null===e?null:C.proxy(e,t.publicInstance),t.pi},setOnPan:function(e){return t.options.onPan=null===e?null:C.proxy(e,t.publicInstance),t.pi},enableZoom:function(){return t.options.zoomEnabled=!0,t.pi},disableZoom:function(){return t.options.zoomEnabled=!1,t.pi},isZoomEnabled:function(){return!!t.options.zoomEnabled},enableControlIcons:function(){return t.options.controlIconsEnabled||(t.options.controlIconsEnabled=!0,A.enable(t)),t.pi},disableControlIcons:function(){return t.options.controlIconsEnabled&&(t.options.controlIconsEnabled=!1,A.disable(t)),t.pi},isControlIconsEnabled:function(){return!!t.options.controlIconsEnabled},enableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!0,t.pi},disableDblClickZoom:function(){return t.options.dblClickZoomEnabled=!1,t.pi},isDblClickZoomEnabled:function(){return!!t.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return t.enableMouseWheelZoom(),t.pi},disableMouseWheelZoom:function(){return t.disableMouseWheelZoom(),t.pi},isMouseWheelZoomEnabled:function(){return!!t.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(e){return t.options.zoomScaleSensitivity=e,t.pi},setMinZoom:function(e){return t.options.minZoom=e,t.pi},setMaxZoom:function(e){return t.options.maxZoom=e,t.pi},setBeforeZoom:function(e){return t.options.beforeZoom=null===e?null:C.proxy(e,t.publicInstance),t.pi},setOnZoom:function(e){return t.options.onZoom=null===e?null:C.proxy(e,t.publicInstance),t.pi},zoom:function(e){return t.publicZoom(e,!0),t.pi},zoomBy:function(e){return t.publicZoom(e,!1),t.pi},zoomAtPoint:function(e,n){return t.publicZoomAtPoint(e,n,!0),t.pi},zoomAtPointBy:function(e,n){return t.publicZoomAtPoint(e,n,!1),t.pi},zoomIn:function(){return this.zoomBy(1+t.options.zoomScaleSensitivity),t.pi},zoomOut:function(){return this.zoomBy(1/(1+t.options.zoomScaleSensitivity)),t.pi},getZoom:function(){return t.getRelativeZoom()},setOnUpdatedCTM:function(e){return t.options.onUpdatedCTM=null===e?null:C.proxy(e,t.publicInstance),t.pi},resetZoom:function(){return t.resetZoom(),t.pi},resetPan:function(){return t.resetPan(),t.pi},reset:function(){return t.reset(),t.pi},fit:function(){return t.fit(),t.pi},contain:function(){return t.contain(),t.pi},center:function(){return t.center(),t.pi},updateBBox:function(){return t.updateBBox(),t.pi},resize:function(){return t.resize(),t.pi},getSizes:function(){return{width:t.width,height:t.height,realZoom:t.getZoom(),viewBox:t.viewport.getViewBox()}},destroy:function(){return t.destroy(),t.pi}}),this.publicInstance};var I=[],B=function(t,e){var n=C.getSvg(t);if(null===n)return null;for(var o=I.length-1;o>=0;o--)if(I[o].svg===n)return I[o].instance.getPublicInstance();return I.push({svg:n,instance:new T(n,e)}),I[I.length-1].instance.getPublicInstance()},j=B,L={props:{markers:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{}}}},components:{Markers:N},data:function(){return{panzoom:null}},mounted:function(){this.panzoom=j(this.$refs.screen,Object.assign({dblClickZoomEnabled:!1,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,fit:!1,contain:!1,center:!1,zoomScaleSensitivity:.4,minZoom:.1,maxZoom:5,onZoom:function(t){},onPan:function(t){},onUserZoom:function(t){},onUserPan:function(t){},onDoubleClick:function(){},onUpdatedCTM:function(t){}},this.options)),this.panzoom.zoomRect=this.zoomRect,this.panzoom.zoomNode=this.zoomNode,this.panzoom.panNode=this.panNode},methods:{zoomTo:function(t){var e=t.x,n=t.y,o=t.scale;this.panzoom.zoom(o),this.panzoom.pan(e,n)},zoomRect:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scale:null},n=e.scale,o=this.$refs.screen,i=t.right-t.left,r=t.bottom-t.top;if(!n){var s=i/o.clientWidth,a=r/o.clientHeight;n=1/Math.max(s,a)}var c=-t.left*n+(o.clientWidth/n-i)/2*n,h=-t.top*n+(o.clientHeight/n-r)/2*n;this.panzoom.zoom(n),this.panzoom.pan({x:c,y:h})},zoomNode:function(t){var e=this.$refs.screen,n=e.clientWidth/2-t.width/2,o=e.clientHeight/2-t.height/2;this.zoomRect({left:t.x-n,right:t.x+t.width+n,top:t.y-o,bottom:t.y+t.height+o})},zoomNodes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{padding:50,scale:null};if(t&&t.length){var n=e.padding||50,o=e.scale,i=1/0,r=1/0,s=-1/0,a=-1/0;t.forEach((function(t){t.x<i&&(i=t.x),t.x+t.width>s&&(s=t.x+t.width),t.y<r&&(r=t.y),t.y+t.height>a&&(a=t.y+t.height)})),this.zoomRect({left:i-n,top:r-n,right:s+n,bottom:a+n},{scale:o})}},panNode:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{offsetX:offsetX,offsetY:offsetY};return function(){var o=n.offsetX||0,i=n.offsetY||0,r=e.panzoom.getZoom(),s=e.$el.clientWidth/2-(t.x+t.width/2)*r+o,a=e.$el.clientHeight/2-(t.y+t.height/2)*r+i;e.panzoom.pan({x:s,y:a})}()}}},$=L,V=(n("71db"),Object(d["a"])($,g,v,!1,null,"2c2454d6",null)),X=V.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("foreignObject",{staticClass:"node",attrs:{x:t.data.x-t.margin,y:t.data.y-t.margin,width:t.data.width+2*t.margin,height:t.data.height+2*t.margin},on:{mousedown:t.onMousedown}},[n("div",{staticClass:"outer",style:t.margin&&"padding: "+t.margin+"px"},[n("div",{ref:"content",staticClass:"content"},[t.$slots.default?t._e():n("div",{staticClass:"default-label"},[t._v("\n        "+t._s(t.data.id)+"\n      ")]),t._t("default")],2)])])},q=[],Y=(n("a9e3"),{props:{dragThreshold:{type:Number,default:10}},data:function(){return{drag:{zoom:1,active:!1,threshold:{x:0,y:0,crossed:!1}}}},beforeDestroy:function(){document.removeEventListener("mousemove",this.applyDrag),document.removeEventListener("mouseup",this.stopDrag)},methods:{preventClicks:function(t){this.drag.threshold.crossed&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),document.removeEventListener("click",this.preventClicks,!0))},startDrag:function(){var t=this.$parent;while(t){if(t.panzoom){this.drag.zoom=t.panzoom.getZoom();break}t=t.$parent}this.drag.active=!0,this.drag.threshold={x:0,y:0,crossed:!1},document.addEventListener("mouseup",this.stopDrag),document.addEventListener("mousemove",this.applyDrag),document.addEventListener("click",this.preventClicks,!0)},stopDrag:function(){this.drag.active=!1,document.removeEventListener("mouseup",this.stopDrag),document.removeEventListener("mousemove",this.applyDrag)},applyDrag:function(t){var e=t.movementX/this.drag.zoom,n=t.movementY/this.drag.zoom;if(!this.drag.threshold.crossed){if(Math.abs(this.drag.threshold.x)<this.dragThreshold&&Math.abs(this.drag.threshold.y)<this.dragThreshold)return this.drag.threshold.x+=e,void(this.drag.threshold.y+=n);this.drag.threshold.crossed=!0,e+=this.drag.threshold.x,n+=this.drag.threshold.y}this.$emit("drag",{x:e,y:n})}}}),G={mixins:[Y],props:{data:{},margin:{type:Number,default:10},useDrag:{type:Boolean,default:!0},fit:{type:Boolean,default:!0}},mounted:function(){var t=this;this.fitContent(),this.$on("drag",(function(e){var n=e.x,o=e.y;t.useDrag&&(t.data.x+=n,t.data.y+=o)}))},methods:{fitContent:function(){this.fit&&(this.data.width=this.$refs.content.offsetWidth,this.data.height=this.$refs.content.offsetHeight)},onMousedown:function(t){t.stopPropagation(),t.preventDefault(),this.startDrag()}}},R=G,F=(n("c5cc"),Object(d["a"])(R,W,q,!1,null,null,null)),U=F.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("path",{staticClass:"edge",attrs:{d:t.path,id:t.data.id}})},J=[],K=n("11c1"),Q=n.n(K),tt=n("3db5"),et=n("1266"),nt={props:{data:{type:Object,required:!0},nodes:{type:Array}},mounted:function(){"undefined"===typeof this.data.id&&this.$set(this.data,"id",Q()()),"undefined"===typeof this.data.pathd&&this.$set(this.data,"pathd","")},computed:{fromNode:function(t){return"string"===typeof t.data.from?t.nodes.find((function(e){return e.id===t.data.from})):t.data.from},toNode:function(t){return"string"===typeof t.data.to?t.nodes.find((function(e){return e.id===t.data.to})):t.data.to},fromAnchor:function(t){return t.parseAnchor(t.data.fromAnchor,t.fromNode)},toAnchor:function(t){return t.parseAnchor(t.data.toAnchor,t.toNode)},pos:function(){var t,e,n=this.fromNode.x+(this.fromAnchor.x||0),o=this.fromNode.y+(this.fromAnchor.y||0),i=this.toNode.x+(this.toAnchor.x||0),r=this.toNode.y+(this.toAnchor.y||0);if(null!==(t=this.fromAnchor)&&void 0!==t&&t.snap){if("circle"===this.fromAnchor.snap){var s=Math.max(this.fromNode.width,this.fromNode.height)/2,a=new et(i-n,r-o).normalize();n+=a.x*s,o+=a.y*s}if("rect"===this.fromAnchor.snap){var c=this.rectIntersect(i,n,r,o,this.fromNode);c&&(n=c[0],o=c[1])}}if(null!==(e=this.toAnchor)&&void 0!==e&&e.snap){if("circle"===this.toAnchor.snap){var h=Math.max(this.toNode.width,this.toNode.height)/2,l=new et(i-n,r-o).normalize();i-=l.x*h,r-=l.y*h}if("rect"===this.toAnchor.snap){var u=this.rectIntersect(n,i,o,r,this.toNode);u&&(i=u[0],r=u[1])}}return{x1:n,x2:i,y1:o,y2:r}},path:function(){var t=Object.assign({},this.pos),e="M ".concat(t.x1,",").concat(t.y1," "),n=t.x1-t.x2,o=t.y1-t.y2;if("hsmooth"===this.data.type||"smooth"===this.data.type&&Math.abs(n)>=Math.abs(o)){var i={x:t.x1-n/2,y:t.y1},r={x:t.x2+n/2,y:t.y2};e+=" C ".concat(i.x,",").concat(i.y," ").concat(r.x,",").concat(r.y," ")}else if("vsmooth"===this.data.type||"smooth"===this.data.type&&Math.abs(o)>Math.abs(n)){var s={x:t.x1,y:t.y1-o/2},a={x:t.x2,y:t.y2+o/2};e+=" C ".concat(s.x,",").concat(s.y," ").concat(a.x,",").concat(a.y," ")}return e+=" ".concat(t.x2," ").concat(t.y2),this.data.pathd=e,e}},methods:{parseAnchor:function(t,e){if(!t)return{x:0,y:0};var n=t.snap,o=t.align,i={x:t.x||0,y:t.y||0};if("string"===typeof t&&("rect"===t||"circle"===t?(n=t,i={x:"50%",y:"50%"}):o=t),o)if("center"===o)i={x:"50%",y:"50%"};else if("left"===o)i={x:0,y:"50%"};else if("right"===o)i={x:"100%",y:"50%"};else if("top"===o)i={x:"50%",y:0};else if("top-left"===o)i={x:0,y:0};else if("top-right"===o)i={x:"100%",y:0};else if("bottom"===o)i={x:"50%",y:"100%"};else if("bottom-left"===o)i={x:0,y:"100%"};else{if("bottom-right"!==o)throw new Error("unkown anchor align"+o);i={x:"100%",y:"100%"}}return i.x.endsWith&&(i.x=i.x.endsWith("%")?parseInt(i.x)/100*e.width:parseInt(i.x)),i.y.endsWith&&(i.y=i.y.endsWith("%")?parseInt(i.y)/100*e.height:parseInt(i.y)),{x:i.x,y:i.y,snap:n}},rectIntersect:function(t,e,n,o,i){var r=[i.x,i.y,i.x+i.width,i.y+i.height],s=[Object(tt["a"])([t,n],[e,o],[r[0],r[1]],[r[0],r[3]]),Object(tt["a"])([t,n],[e,o],[r[0],r[1]],[r[2],r[1]]),Object(tt["a"])([t,n],[e,o],[r[2],r[1]],[r[2],r[3]]),Object(tt["a"])([t,n],[e,o],[r[0],r[3]],[r[2],r[3]])].filter((function(t){return t&&t[0]+.01>=r[0]&&t[0]-.01<=r[2]&&t[1]+.01>=r[1]&&t[1]-.01<=r[3]})),a=new et(t,n);return s.map((function(t){return[t[0],t[1],a.distance(new et(t[0],t[1]))]})).sort((function(t,e){return t[2]<e[2]?1:-1})).pop()}}},ot=nt,it=(n("9506"),Object(d["a"])(ot,H,J,!1,null,"83fa03c0",null)),rt=it.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("foreignObject",{staticClass:"group",attrs:{x:t.minX-t.padding.left-t.margin,y:t.minY-t.padding.top-t.margin,width:t.width+(t.padding.left+t.padding.right)+2*t.margin,height:t.height+(t.padding.top+t.padding.bottom)+2*t.margin},on:{mousedown:t.onMousedown}},[n("div",{ref:"content",staticClass:"content",style:t.contentMargin},[t._t("default")],2)])},at=[],ct={mixins:[Y],props:{nodes:{type:Array,default:[]},margin:{type:Number,default:20},padding:{type:Object,default:function(){return{left:10,right:10,top:10,bottom:10}}},disableDrag:!1},mounted:function(){var t=this;this.$on("drag",(function(e){var n=e.x,o=e.y;t.nodes.forEach((function(t){t.x+=n,t.y+=o}))}))},computed:{minX:function(t){return t.nodes.length?t.nodes.reduce((function(t,e){return Math.min(t,e.x)}),1/0):0},maxX:function(t){return t.nodes.length?t.nodes.reduce((function(t,e){return Math.max(t,e.x+e.width)}),-1/0):0},minY:function(t){return t.nodes.length?t.nodes.reduce((function(t,e){return Math.min(t,e.y)}),1/0):0},maxY:function(t){return t.nodes.length?t.nodes.reduce((function(t,e){return Math.max(t,e.y+e.height)}),-1/0):0},width:function(t){return t.maxX-t.minX},height:function(t){return t.maxY-t.minY},contentMargin:function(t){return t.margin&&{margin:t.margin+"px",width:"calc(100% - ".concat(2*t.margin,"px)"),height:"calc(100% - ".concat(2*t.margin,"px)")}}},methods:{onMousedown:function(t){t.stopPropagation(),this.disableDrag||(t.preventDefault(),this.startDrag())}}},ht=ct,lt=(n("29ed"),Object(d["a"])(ht,st,at,!1,null,null,null)),ut=lt.exports,dt=n("d4ec"),pt=n("bee2"),ft=n("a069"),gt=n.n(ft);function vt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"right",o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:40,y:40},r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=i.x||i,a=i.y||i,c=e?"down"===n||"up"===n?e.x:"right"===n?e.x+e.width+s:"left"===n?e.x-t.width-s:-1:0,h=e?"right"===n||"left"===n?e.y:"down"===n?e.y+e.height+a:"up"===n?e.y-t.height-a:-1:0,l=o.filter((function(e){return e.id!==t.id})).map((function(t){return[t.x,t.y,t.x+t.width,t.y+t.height]})),u=[c,h,c+t.width,h+t.height],d="down"===n||"up"===n,p="right"===n||"left"===n,f=d?s*(r?-1:1):0,g=p?a*(r?-1:1):0,v=gt()(l,[u]);while(v.length){var m=o[v[0][0]];f?f>0?(u[0]=m.x+m.width+f,u[2]=m.x+m.width+t.width+f):(u[0]=m.x-t.width+f,u[2]=m.x+f):g>0?(u[1]=m.y+m.height+g,u[3]=m.y+m.height+t.height+g):(u[1]=m.y-t.height+g,u[3]=m.y+g),v=gt()(l,[u])}return{x:u[0],y:u[1]}}function mt(t,e){var n=t.map((function(t){return{id:t.id,x:t.x,y:t.y,width:t.width,height:t.height,parentIds:[],children:[]}})),o={};return e.forEach((function(t){if(!o[t.from+t.to]){o[t.from+t.to]=!0;var e=n.find((function(e){return e.id===t.from})),i=n.find((function(e){return e.id===t.to}));e&&i&&(e.children.push(i),i.parentIds.push(e.id))}})),bt(n),n}var yt,bt=function(t){var e=[],n=function(t){return 0===t.state},o=function(t){return 1===t.state},i=function(t){return 2===t.state};t.forEach((function(t){t.state=0}));var r=function t(n){n.state=1,n.children.forEach((function(r){i(r)||(o(r)?(n.children.splice(n.children.indexOf(r),1),r.parentIds.splice(r.parentIds.indexOf(n.id),1),e.push("".concat(r.id,":").concat(n.id))):t(r))})),n.state=2};return t.forEach((function(t){n(t)&&r(t)})),e},xt=function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,r={id:e.id,size:[(o?e.height:e.width)+i,(o?e.width:e.height)+i],children:[]};n.push(r),e.children.forEach((function(e){t(e,r.children,o,i)}))},wt={findPosition:vt,createDAG:mt,dagToFlextree:xt},Et=n("5d30"),Nt=function(){function t(){Object(dt["a"])(this,t),this.nodes=[],this.edges=[]}return Object(pt["a"])(t,[{key:"positionNode",value:function(t){var e=t.node,n=t.parent,o=t.dir,i=void 0===o?"right":o,r=t.spacing,s=void 0===r?40:r,a=t.invertOffset,c=void 0!==a&&a;e="string"===typeof e?this.nodes.find((function(t){return t.id===e})):e,n="string"===typeof n?this.nodes.find((function(t){return t.id===n})):n;var h=wt.findPosition(e,n,i,this.nodes,s,c);this.updateNode(e,{x:h.x,y:h.y})}},{key:"graphNodes",value:function(t){var e=this,n=t.nodes,o=t.edges,i=t.type,r=void 0===i?"basic":i,s=t.dir,a=void 0===s?"right":s,c=t.spacing,h=void 0===c?40:c;n=n||this.nodes,o=o||this.edges;var l=wt.createDAG(n,o);if(l.length)if("basic"===r||"basic-invert"===r){var u={},d=function t(o,i){if(!u[o.id]){var s=n.filter((function(t){return!!u[t.id]})),c=wt.findPosition(o,i,a,s,h,"basic-invert"===r);o.x=c.x,o.y=c.y,e.updateNode(o.id,{x:o.x,y:o.y}),u[o.id]=!0,o.children.forEach((function(e){return t(e,o)}))}};l.filter((function(t){return!t.parentIds.length})).forEach((function(t){return d(t,null)}))}else{if("tree"!==r)throw new Error("unknown layout type "+r);var p=Object(Et["a"])(),f="left"===a||"right"===a,g=l.filter((function(t){return!t.parentIds.length}));g.forEach((function(t){var n=[],o=t.x,i=t.y;wt.dagToFlextree(t,n,f,h);var r=p.hierarchy(n[0]);p(r);var s="left"===a?-1:1,c="up"===a?-1:1,l=function t(n){e.updateNode(n.data.id,{x:(f?n.y:n.x)*s+o,y:(f?n.x:n.y)*c+i}),n.children&&n.children.forEach(t)};l(r)}))}}},{key:"reset",value:function(){while(this.edges.length)this.edges.pop();while(this.nodes.length)this.nodes.pop()}},{key:"createNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof t&&(t={id:t});var e=Object.assign({id:Q()(),x:0,y:0,width:50,height:50},t);return this.nodes.push(e),e}},{key:"updateNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"===typeof t&&(t=this.nodes.find((function(e){return e.id===t}))),!t)throw new Error("node ".concat(t," does not exist"));return Object.assign(t,e)}},{key:"removeNode",value:function(t){var e=this.nodes.indexOf(t);return e>1&&this.nodes.splice(e,1),e}},{key:"createEdge",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(1===arguments.length?(n=arguments[0],t=n.from,e=n.to):("object"===Object(S["a"])(t)&&(t=t.id),"object"===Object(S["a"])(e)&&(e=e.id)),!t)throw new Error("orig required");if(!e)throw new Error("dest required");var o=Object.assign({id:n.id||"".concat(t,"@").concat(e),from:t,to:e,fromAnchor:{x:"50%",y:"50%"},toAnchor:{x:"50%",y:"50%"},type:"linear",pathd:""},n);return this.edges.push(o),o}},{key:"updateEdge",value:function(t,e){return Object.assign(t,e)}},{key:"removeEdge",value:function(t){var e=this.edges.indexOf(t);return e>-1&&this.edges.splice(e,1),e}}]),t}(),Mt={components:{Screen:X,Node:U,Edge:rt,Group:ut,SinkSidebar:f},data:function(){return{graph:new Nt,groupNodes:!1}},methods:{toggleGroupNodes:function(t){this.groupNodes=t}}},St=Mt,Ct=Object(d["a"])(St,s,a,!1,null,null,null),zt=Ct.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demo",attrs:{id:"edit-demo"}},[n("div",{staticClass:"viewport",on:{click:function(e){return t.select(null)}}},[n("screen",{ref:"screen"},[t._l(t.graph.edges,(function(e){return n("g",{key:e.id,on:{click:function(n){return n.stopPropagation(),t.select(e)}}},[n("edge",{class:t.selection&&t.selection.id===e.id&&"selected",attrs:{data:e,nodes:t.graph.nodes}})],1)})),t._l(t.graph.nodes,(function(e){return n("g",{key:e.id,on:{click:function(n){return n.stopPropagation(),t.select(e)}}},[n("node",{ref:"node",refInFor:!0,class:t.selection&&t.selection.id===e.id&&"selected",attrs:{data:e}},[n("div",{domProps:{innerHTML:t._s(e.html)}})])],1)}))],2)],1),n("div",{staticClass:"sidebar"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editText,expression:"editText"}],staticStyle:{height:"100%"},attrs:{name:"",id:"",cols:"30",rows:"10",disabled:!t.selection,placeholder:"Click on a node or edge to start editing"},domProps:{value:t.editText},on:{change:t.applyChanges,input:function(e){e.target.composing||(t.editText=e.target.value)}}})])])},_t=[],At={components:{Screen:X,Node:U,Edge:rt},data:function(){return{graph:new Nt,selection:null,editText:"",hover:null}},methods:{test:function(){console.log("leave")},select:function(t){this.selection=t,this.editText=t?JSON.stringify(this.selection,null,2):""},applyChanges:function(){var t=this;if(this.selection){var e=JSON.parse(this.editText);Object.assign(this.selection,e),this.$nextTick((function(){t.$refs.node.forEach((function(t){t.fitContent()}))}))}}},mounted:function(){var t=this;this.graph.createNode({id:"a",html:'<h5 style="margin: 25px">A</h5>'}),this.graph.createNode({id:"b",x:200,y:200,html:'<div style="margin: 10px; text-align: center"><h4>B</h4><p>Some subtitle</p></div>'}),this.graph.createEdge({from:"a",to:"b",toAnchor:{x:"50%",y:"50%",snap:"rect"},type:"smooth"}),this.$nextTick((function(){t.$refs.screen.zoomNodes(t.graph.nodes,{scale:1})}))}},Zt=At,kt=(n("f990"),Object(d["a"])(Zt,Pt,_t,!1,null,null,null)),Tt=kt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demo",attrs:{id:"ports-demo"}},[n("div",{staticClass:"viewport"},[n("screen",{ref:"screen"},[t._l(t.graph.edges,(function(e){return n("edge",{key:e.id,attrs:{data:e,nodes:t.graph.nodes}})})),t._l(t.graph.nodes,(function(e){return n("node",{key:e.id,ref:"node",refInFor:!0,attrs:{data:e}},[n("div",{staticStyle:{"text-align":"center"}},[n("strong",[t._v(t._s(e.title))])]),n("table",[n("td",t._l(e.inputs,(function(o){return n("tr",{key:e.id+"i"+o},[n("port",{attrs:{edgesTo:t.getInputEdges(e,o)}},[n("div",{staticClass:"port-inner",class:t.getInputEdges(e,o).length&&"connected",on:{mousedown:function(e){return e.stopPropagation(),t.test(e)}}})]),t._v("\n              "+t._s(o)+"\n            ")],1)})),0),n("td",t._l(e.outputs,(function(o){return n("tr",{key:e.id+"o"+o},[t._v("\n              "+t._s(o)+"\n              "),n("port",{attrs:{edgesFrom:t.getOutputEdges(e,o)},on:{mousedown:function(e){return e.preventDefault(),e.stopPropagation(),t.test(e)}}},[n("div",{staticClass:"port-inner",class:t.getOutputEdges(e,o).length&&"connected",on:{mousedown:function(e){return e.stopPropagation(),t.test(e)}}})])],1)})),0)])])}))],2)],1),n("div",{staticClass:"sidebar"})])},Dt=[],It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"port"},[t._t("default")],2)},Bt=[],jt={props:{startOffset:Object,edgesFrom:{type:Array,default:function(){return[]}},edgesTo:{type:Array,default:function(){return[]}}},data:function(){return{offset:{x:0,y:0}}},mounted:function(){this.updatePosition()},methods:{updatePosition:function(){var t,e,n,o,i=this,r=1===(null===(t=this.$slots.default)||void 0===t?void 0:t.length)&&null!==(e=this.$slots.default)&&void 0!==e&&null!==(n=e[0])&&void 0!==n&&null!==(o=n.elm)&&void 0!==o&&o.offsetWidth?this.$slots.default[0].elm:this.$el;this.offset=this.startOffset||{x:r.offsetWidth/2,y:r.offsetHeight/2};while(r&&!r.classList.contains("content"))this.offset.x+=r.offsetLeft||0,this.offset.y+=r.offsetTop||0,r=r.offsetParent;this.edgesFrom.forEach((function(t){Object.assign(t.fromAnchor,i.offset)})),this.edgesTo.forEach((function(t){Object.assign(t.toAnchor,i.offset)}))}},watch:{edgesFrom:"updatePosition",edgesTo:"updatePosition"}},Lt=jt,$t=(n("9c9a"),Object(d["a"])(Lt,It,Bt,!1,null,null,null)),Vt=$t.exports,Xt={components:{Screen:X,Node:U,Edge:rt,Port:Vt},data:function(){return{graph:new Nt}},methods:{test:function(){console.log("test")},getInputEdges:function(t,e){return this.graph.edges.filter((function(n){return n.to===t.id&&n.toPort===e}))},getOutputEdges:function(t,e){return this.graph.edges.filter((function(n){return n.from===t.id&&n.fromPort===e}))}},mounted:function(){var t=this;this.graph.createNode({id:"a",title:"nodeA",inputs:["1"],outputs:["1","2","3"]}),this.graph.createNode({id:"b",x:200,y:100,title:"B",inputs:["1","2"],outputs:["1","2"]}),this.graph.createEdge({from:"a",to:"b",fromPort:"1",toPort:"1"}),this.$nextTick((function(){t.$refs.screen.zoomNodes(t.graph.nodes,{scale:1})}))}},Wt=Xt,qt=(n("a402"),Object(d["a"])(Wt,Ot,Dt,!1,null,"22f58a10",null)),Yt=qt.exports,Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demo"},[n("div",{staticClass:"viewport"},[n("screen",{ref:"screen"},[t._l(t.graph.edges,(function(e){return n("edge",{key:e.id,attrs:{data:e,nodes:t.graph.nodes}})})),t._l(t.graph.nodes,(function(t){return n("node",{key:t.id,ref:"node",refInFor:!0,attrs:{data:t}})})),t.graph.edges.length?n("v-label",{ref:"label",attrs:{edge:t.graph.edges[0],perc:parseInt(t.perc),offset:{x:parseInt(t.offsetX),y:parseInt(t.offsetY)},align:t.align,rotate:t.rotate,connector:t.connector,useDrag:!1},on:{drag:t.onDrag}},[n("div",{domProps:{innerHTML:t._s(t.contents)}})]):t._e()],2)],1),n("div",{staticClass:"sidebar"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.contents,expression:"contents"}],attrs:{rows:"3"},domProps:{value:t.contents},on:{input:[function(e){e.target.composing||(t.contents=e.target.value)},t.resizeLabel]}}),n("div",[t._v("Position "+t._s(t.perc))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.perc,expression:"perc"}],attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.perc},on:{__r:function(e){t.perc=e.target.value}}}),n("div",[t._v("Offset { x : "+t._s(parseInt(t.offsetX))+", y: "+t._s(parseInt(t.offsetY))+" }")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.offsetX,expression:"offsetX"}],attrs:{type:"range",min:"-100",max:"100"},domProps:{value:t.offsetX},on:{__r:function(e){t.offsetX=e.target.value}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.offsetY,expression:"offsetY"}],attrs:{type:"range",min:"-100",max:"100"},domProps:{value:t.offsetY},on:{__r:function(e){t.offsetY=e.target.value}}}),n("div",[t._v("Align")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.align,expression:"align"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.align=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"center"}},[t._v("center")]),n("option",{attrs:{value:"top"}},[t._v("top")]),n("option",{attrs:{value:"top-left"}},[t._v("top-left")]),n("option",{attrs:{value:"top-right"}},[t._v("top-right")]),n("option",{attrs:{value:"left"}},[t._v("left")]),n("option",{attrs:{value:"right"}},[t._v("right")]),n("option",{attrs:{value:"bottom"}},[t._v("bottom")]),n("option",{attrs:{value:"bottom-left"}},[t._v("bottom-left")]),n("option",{attrs:{value:"bottom-right"}},[t._v("bottom-right")])]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.rotate,expression:"rotate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.rotate)?t._i(t.rotate,null)>-1:t.rotate},on:{change:function(e){var n=t.rotate,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r=null,s=t._i(n,r);o.checked?s<0&&(t.rotate=n.concat([r])):s>-1&&(t.rotate=n.slice(0,s).concat(n.slice(s+1)))}else t.rotate=i}}}),n("span",[t._v("Rotate")])]),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.connector,expression:"connector"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.connector)?t._i(t.connector,null)>-1:t.connector},on:{change:function(e){var n=t.connector,o=e.target,i=!!o.checked;if(Array.isArray(n)){var r=null,s=t._i(n,r);o.checked?s<0&&(t.connector=n.concat([r])):s>-1&&(t.connector=n.slice(0,s).concat(n.slice(s+1)))}else t.connector=i}}}),n("span",[t._v("Connector")])])])])},Rt=[],Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{staticClass:"label"},[t.connector?n("path",{staticClass:"edge",attrs:{d:"M "+t.pos.x+" "+t.pos.y+" L "+(t.node.x+t.node.width/2)+" "+(t.node.y+t.node.height/2)}}):t._e(),n("node",{ref:"node",style:t.nodeTransform,attrs:{data:t.node,useDrag:t.useDrag},on:{drag:function(e){return t.$emit("drag",e)}}},[t._t("default")],2)],1)},Ut=[],Ht=n("ade3"),Jt={components:{Node:U},props:{edge:{type:Object,required:!0},perc:{type:Number,default:50},offset:{type:Object,default:function(){return{x:0,y:0}}},align:{type:String,default:"center"},rotate:{type:Boolean,default:!1},useDrag:{type:Boolean,default:!1},connector:{type:Boolean,default:!1}},data:function(){return{pos:{x:0,y:0},node:{id:Q()(),x:250,y:0,width:100,height:100},angle:0}},mounted:function(){this.$nextTick(this.getPosition)},methods:{getPosition:function(){var t=document.getElementById(this.edge.id);if(!t)throw"element not found: ".concat(this.edge.id);var e=t.getTotalLength()*this.perc/100;if(this.pos=t.getPointAtLength(e),this.rotate){var n=t.getPointAtLength(Math.min(e+.01),t.getTotalLength);this.angle=Math.atan2(n.y-this.pos.y,n.x-this.pos.x)}else this.angle=0},updateNodePos:function(){var t={x:0,y:0};"center"===this.align?(t.x=this.node.width/2,t.y=this.node.height/2):"top"===this.align?t.x=this.node.width/2:"top-right"===this.align?t.x=node.width:"left"===this.align?t.y=this.node.height/2:"right"===this.align?(t.x=this.node.width,t.y=this.node.height/2):"bottom-left"===this.align?t.y=this.node.height:"bottom"===this.align?(t.x=this.node.width/2,t.y=this.node.height):"bottom-right"===this.align&&(t.x=this.node.width,t.y=this.node.height),this.node.x=this.pos.x+this.offset.x-t.x,this.node.y=this.pos.y+this.offset.y-t.y}},computed:{nodeTransform:function(t){return"\n        transform-origin: ".concat(t.node.x+t.node.width/2,"px ").concat(t.node.y+t.node.height,"px;\n        transform: rotate(").concat(t.angle,"rad);")}},watch:(yt={edge:{deep:!0,handler:"getPosition"},perc:"getPosition",pos:"updateNodePos","node.width":"updateNodePos","node.heigth":"updateNodePos",offset:"updateNodePos"},Object(Ht["a"])(yt,"offset","updateNodePos"),Object(Ht["a"])(yt,"align","updateNodePos"),Object(Ht["a"])(yt,"rotate","getPosition"),yt)},Kt=Jt,Qt=(n("1f1d"),Object(d["a"])(Kt,Ft,Ut,!1,null,null,null)),te=Qt.exports,ee={components:{Screen:X,Node:U,Edge:rt,VLabel:te},data:function(){return{graph:new Nt,perc:50,offsetX:0,offsetY:0,align:"center",rotate:!1,connector:!0,contents:'<small style="padding: 10px">Label</small>'}},methods:{resizeLabel:function(){this.$refs.label.$refs.node.fitContent()},onDrag:function(t){this.offsetX+=t.x||0,this.offsetY+=t.y||0,this.offsetX=Math.max(Math.min(this.offsetX,100),-100),this.offsetY=Math.max(Math.min(this.offsetY,100),-100)}},mounted:function(){var t=this;this.graph.createNode("A"),this.graph.createNode({id:"B",x:450,y:100}),this.graph.createEdge({from:"A",to:"B",fromAnchor:"right",toAnchor:"left",type:"smooth"}),this.$nextTick((function(){t.$refs.screen.zoomNodes(t.graph.nodes,{scale:1})}))}},ne=ee,oe=(n("bd95"),Object(d["a"])(ne,Gt,Rt,!1,null,null,null)),ie=oe.exports,re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"demo",attrs:{id:"benchmark-demo"}},[n("div",{staticClass:"viewport"},[n("screen",{ref:"screen"},[t._l(t.graph.edges,(function(e){return n("edge",{key:e.id,attrs:{data:e,nodes:t.graph.nodes}})})),t._l(t.graph.nodes,(function(t){return n("node",{key:t.id,ref:"node",refInFor:!0,attrs:{data:t}})}))],2)],1),n("div",{staticClass:"sidebar"},[n("div",{ref:"fps",staticStyle:{"margin-bottom":"10px"}}),n("span",[t._v("Node Count")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.nodeCount,expression:"nodeCount"}],attrs:{type:"number"},domProps:{value:t.nodeCount},on:{input:function(e){e.target.composing||(t.nodeCount=e.target.value)}}})])])},se=[],ae=n("3191"),ce=n.n(ae),he={components:{Screen:X,Node:U,Edge:rt},data:function(){return{graph:new Nt,nodeCount:100}},methods:{makeGraph:function(){this.graph.reset(),this.graph.createNode("0");for(var t=1;t<this.nodeCount;t++){var e=this.graph.nodes[Math.round(Math.random()*(this.graph.nodes.length-1))],n=this.graph.createNode({id:String(t),x:Math.random()*this.nodeCount*12,y:Math.random()*this.nodeCount*12});this.graph.createEdge(e,n,{type:"smooth"})}this.$refs.screen.zoomNodes(this.graph.nodes)}},mounted:function(){this.makeGraph();var t=new ce.a;function e(){t.begin(),requestAnimationFrame((function(){t.end(),e()}))}t.setMode(1),t.domElement.style.setProperty("position","relative"),this.$refs.fps.appendChild(t.domElement),e()},watch:{nodeCount:"makeGraph"}},le=he,ue=(n("e517"),Object(d["a"])(le,re,se,!1,null,null,null)),de=ue.exports,pe={components:{Sink:zt,Edit:Tt,Ports:Yt,Labels:ie,Benchpress:de}},fe=pe,ge=(n("c744"),Object(d["a"])(fe,i,r,!1,null,null,null)),ve=ge.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(ve)}}).$mount("#app")},"5cff":function(t,e,n){},"69eb":function(t,e,n){},"71db":function(t,e,n){"use strict";var o=n("2929"),i=n.n(o);i.a},8552:function(t,e,n){},9506:function(t,e,n){"use strict";var o=n("c24a"),i=n.n(o);i.a},"9c9a":function(t,e,n){"use strict";var o=n("d646"),i=n.n(o);i.a},a402:function(t,e,n){"use strict";var o=n("3daa"),i=n.n(o);i.a},ace5:function(t,e,n){},ae08:function(t,e,n){},bd95:function(t,e,n){"use strict";var o=n("8552"),i=n.n(o);i.a},c24a:function(t,e,n){},c5cc:function(t,e,n){"use strict";var o=n("cb05"),i=n.n(o);i.a},c744:function(t,e,n){"use strict";var o=n("519a"),i=n.n(o);i.a},cb05:function(t,e,n){},d646:function(t,e,n){},e517:function(t,e,n){"use strict";var o=n("ae08"),i=n.n(o);i.a},f990:function(t,e,n){"use strict";var o=n("ace5"),i=n.n(o);i.a}});
//# sourceMappingURL=app.b88248c1.js.map